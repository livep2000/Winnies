$.widget("plugins.dynamictabs",$.winnies.pluginSuperwidget,{doLog:!0,version:"1.0.0",tabCollection:{},headerHolder:null,create_newtab:function(a){var b=core.util.guid();return a.guid=b,a.open=!1,this.tabCollection[b]=a,b},open_tab:function(a){if(this.tabCollection[a]){if(1==this.tabCollection[a].open)return void this.select_tab(a);this.tabCollection[a].open=!0;var b=this.tabCollection[a];this.create_header(b),this.create_tab(b),this.element.tabs("refresh"),this.element.tabs("option","active",-1)}},refresh:function(){this.element.tabs("refresh")},get_selected:function(){var a=this.element.tabs("option","active"),b=this.element.find("ul > li").eq(a),c=null;return b.attr("aria-controls")&&(c=b.attr("aria-controls").replace("tab-","")),c},select_tab:function(a){var b=this.element.find("div").index($("#tab-"+a));0>b||(this.element.tabs("option","active",b),this.element.tabs("refresh"))},close_tab:function(a){var b=this.element.find("div").index($("#tab-"+a));this.element.find("ul > li").eq(b).remove(),$("#tab-"+a).remove(),this.tabCollection[a]=null,delete this.tabCollection[a],this.element.tabs("refresh"),this._trigger("tabclosed",null,a)},get_tabData:function(a){return this.tabCollection[a]},set_state:function(a,b){this.tabCollection[a].savedState=b;var c=this.headerHolder.find("[href='#tab-"+a+"']");b?c.text(this.tabCollection[a].title):c.text(this.tabCollection[a].title+"*")},create_header:function(a){var b=$("<li>"),c=$("<a>");c.attr({href:"#tab-"+a.guid});var d=a.title;a.savedState===!1&&(d=a.title+"*"),c.text(a.title),b.append(c);var e=$("<span class='ui-icon ui-icon-close' role='presentation'>Remove Tab</span>");b.append(e),this.headerHolder.append(b)},create_tab:function(a){var b=$("<div>");b.attr({id:"tab-"+a.guid}),b.addClass("._winnies_appstudio_editor"),b.text(a.content),this.element.append(b)},_create:function(){var a=this;this.headerHolder=$("<ul>"),this.element.append(this.headerHolder),this.element.tabs({activate:function(b,c){a._trigger("activate",null,null)}}),this.element.delegate("span.ui-icon-close","click",function(b,c){var d=$(this).closest("li").attr("aria-controls");a._trigger("beforetabclose",b,d.replace("tab-",""))}),this._super()},_trigger:function(a,b,c){this._super(a,b,c)},_destroy:function(){tabCollection=null,headerHolder=null,this._super()},logging:function(a){this.doLog&&console.log(this.widgetName+" :: "+a)}});