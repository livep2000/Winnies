function progress(a){postMessage({cmd:"progress",value:a})}function result(a){postMessage({cmd:"result",value:a})}var JSONfn={parse:function(str,date2obj){var iso8061=date2obj?/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/:!1;return JSON.parse(str,function(key,value){return"string"!=typeof value?value:value.length<8?value:iso8061&&value.match(iso8061)?new Date(value):"function"===value.substring(0,8)?eval("("+value+")"):"_PxEgEr_"===value.substring(0,8)?eval(value.slice(8)):value})}};onmessage=function(a){var b=JSONfn.parse(a.data,!0);switch(b.cmd){case"context":self.context=b.context?b.context:self;break;case"importscript":importScripts(b.script);break;case"task":try{b.fn.apply(self.context,b.args)}catch(c){postMessage({cmd:"fail",error:c})}}};